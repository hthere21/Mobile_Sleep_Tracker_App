{"ast":null,"code":"// Licensed to the Software Freedom Conservancy (SFC) under one\n// or more contributor license agreements.  See the NOTICE file\n// distributed with this work for additional information\n// regarding copyright ownership.  The SFC licenses this file\n// to you under the Apache License, Version 2.0 (the\n// \"License\"); you may not use this file except in compliance\n// with the License.  You may obtain a copy of the License at\n//\n//   http://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing,\n// software distributed under the License is distributed on an\n// \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n// KIND, either express or implied.  See the License for the\n// specific language governing permissions and limitations\n// under the License.\n\n/**\n * @fileoverview Various HTTP utilities.\n */\n'use strict';\n\nconst Executor = require('./index').Executor,\n      HttpClient = require('./index').HttpClient,\n      HttpRequest = require('./index').Request,\n      Command = require('../lib/command').Command,\n      CommandName = require('../lib/command').Name,\n      error = require('../lib/error'),\n      promise = require('../lib/promise');\n/**\n * Queries a WebDriver server for its current status.\n * @param {string} url Base URL of the server to query.\n * @return {!Promise<!Object>} A promise that resolves with\n *     a hash of the server status.\n */\n\n\nfunction getStatus(url) {\n  var client = new HttpClient(url);\n  var executor = new Executor(client);\n  var command = new Command(CommandName.GET_SERVER_STATUS);\n  return executor.execute(command);\n} // PUBLIC API\n\n/**\n * Queries a WebDriver server for its current status.\n * @param {string} url Base URL of the server to query.\n * @return {!Promise<!Object>} A promise that resolves with\n *     a hash of the server status.\n */\n\n\nexports.getStatus = getStatus;\n/**\n * Waits for a WebDriver server to be healthy and accepting requests.\n * @param {string} url Base URL of the server to query.\n * @param {number} timeout How long to wait for the server.\n * @param {Promise=} opt_cancelToken A promise used as a cancellation signal:\n *     if resolved before the server is ready, the wait will be terminated\n *     early with a {@link promise.CancellationError}.\n * @return {!Promise} A promise that will resolve when the server is ready, or\n *     if the wait is cancelled.\n */\n\nexports.waitForServer = function (url, timeout, opt_cancelToken) {\n  return new Promise((onResolve, onReject) => {\n    let start = Date.now();\n    let done = false;\n\n    let resolve = status => {\n      done = true;\n      onResolve(status);\n    };\n\n    let reject = err => {\n      done = true;\n      onReject(err);\n    };\n\n    if (opt_cancelToken) {\n      opt_cancelToken.then(_ => reject(new promise.CancellationError()));\n    }\n\n    checkServerStatus();\n\n    function checkServerStatus() {\n      return getStatus(url).then(status => resolve(status), onError);\n    }\n\n    function onError(e) {\n      // Some servers don't support the status command. If they are able to\n      // response with an error, then can consider the server ready.\n      if (e instanceof error.UnsupportedOperationError) {\n        resolve({});\n        return;\n      }\n\n      if (Date.now() - start > timeout) {\n        reject(Error('Timed out waiting for the WebDriver server at ' + url));\n      } else {\n        setTimeout(function () {\n          if (!done) {\n            checkServerStatus();\n          }\n        }, 50);\n      }\n    }\n  });\n};\n/**\n * Polls a URL with GET requests until it returns a 2xx response or the\n * timeout expires.\n * @param {string} url The URL to poll.\n * @param {number} timeout How long to wait, in milliseconds.\n * @param {Promise=} opt_cancelToken A promise used as a cancellation signal:\n *     if resolved before the a 2xx response is received, the wait will be\n *     terminated early with a {@link promise.CancellationError}.\n * @return {!Promise} A promise that will resolve when a 2xx is received from\n *     the given URL, or if the wait is cancelled.\n */\n\n\nexports.waitForUrl = function (url, timeout, opt_cancelToken) {\n  return new Promise((onResolve, onReject) => {\n    let client = new HttpClient(url);\n    let request = new HttpRequest('GET', '');\n    let start = Date.now();\n    let done = false;\n\n    let resolve = () => {\n      done = true;\n      onResolve();\n    };\n\n    let reject = err => {\n      done = true;\n      onReject(err);\n    };\n\n    if (opt_cancelToken) {\n      opt_cancelToken.then(_ => reject(new promise.CancellationError()));\n    }\n\n    testUrl();\n\n    function testUrl() {\n      client.send(request).then(onResponse, onError);\n    }\n\n    function onError() {\n      if (Date.now() - start > timeout) {\n        reject(Error('Timed out waiting for the URL to return 2xx: ' + url));\n      } else {\n        setTimeout(function () {\n          if (!done) {\n            testUrl();\n          }\n        }, 50);\n      }\n    }\n\n    function onResponse(response) {\n      if (done) {\n        return;\n      }\n\n      if (response.status > 199 && response.status < 300) {\n        resolve();\n        return;\n      }\n\n      onError();\n    }\n  });\n};","map":{"version":3,"names":["Executor","require","HttpClient","HttpRequest","Request","Command","CommandName","Name","error","promise","getStatus","url","client","executor","command","GET_SERVER_STATUS","execute","exports","waitForServer","timeout","opt_cancelToken","Promise","onResolve","onReject","start","Date","now","done","resolve","status","reject","err","then","_","CancellationError","checkServerStatus","onError","e","UnsupportedOperationError","Error","setTimeout","waitForUrl","request","testUrl","send","onResponse","response"],"sources":["/Users/hthere215/Desktop/Study/Classes/INF4MTX 133/Project/Project 4/a4-sleeptracker-hthere21/sleeptracker/node_modules/selenium-webdriver/http/util.js"],"sourcesContent":["// Licensed to the Software Freedom Conservancy (SFC) under one\n// or more contributor license agreements.  See the NOTICE file\n// distributed with this work for additional information\n// regarding copyright ownership.  The SFC licenses this file\n// to you under the Apache License, Version 2.0 (the\n// \"License\"); you may not use this file except in compliance\n// with the License.  You may obtain a copy of the License at\n//\n//   http://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing,\n// software distributed under the License is distributed on an\n// \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n// KIND, either express or implied.  See the License for the\n// specific language governing permissions and limitations\n// under the License.\n\n/**\n * @fileoverview Various HTTP utilities.\n */\n\n'use strict';\n\nconst Executor = require('./index').Executor,\n    HttpClient = require('./index').HttpClient,\n    HttpRequest = require('./index').Request,\n    Command = require('../lib/command').Command,\n    CommandName = require('../lib/command').Name,\n    error = require('../lib/error'),\n    promise = require('../lib/promise');\n\n\n\n/**\n * Queries a WebDriver server for its current status.\n * @param {string} url Base URL of the server to query.\n * @return {!Promise<!Object>} A promise that resolves with\n *     a hash of the server status.\n */\nfunction getStatus(url) {\n  var client = new HttpClient(url);\n  var executor = new Executor(client);\n  var command = new Command(CommandName.GET_SERVER_STATUS);\n  return executor.execute(command);\n}\n\n\n// PUBLIC API\n\n\n/**\n * Queries a WebDriver server for its current status.\n * @param {string} url Base URL of the server to query.\n * @return {!Promise<!Object>} A promise that resolves with\n *     a hash of the server status.\n */\nexports.getStatus = getStatus;\n\n\n/**\n * Waits for a WebDriver server to be healthy and accepting requests.\n * @param {string} url Base URL of the server to query.\n * @param {number} timeout How long to wait for the server.\n * @param {Promise=} opt_cancelToken A promise used as a cancellation signal:\n *     if resolved before the server is ready, the wait will be terminated\n *     early with a {@link promise.CancellationError}.\n * @return {!Promise} A promise that will resolve when the server is ready, or\n *     if the wait is cancelled.\n */\nexports.waitForServer = function(url, timeout, opt_cancelToken) {\n  return new Promise((onResolve, onReject) => {\n    let start = Date.now();\n\n    let done = false;\n    let resolve = (status) => {\n      done = true;\n      onResolve(status);\n    };\n    let reject = (err) => {\n      done = true;\n      onReject(err);\n    };\n\n    if (opt_cancelToken) {\n      opt_cancelToken.then(_ => reject(new promise.CancellationError));\n    }\n\n    checkServerStatus();\n    function checkServerStatus() {\n      return getStatus(url).then(status => resolve(status), onError);\n    }\n\n    function onError(e) {\n      // Some servers don't support the status command. If they are able to\n      // response with an error, then can consider the server ready.\n      if (e instanceof error.UnsupportedOperationError) {\n        resolve({});\n        return;\n      }\n\n      if (Date.now() - start > timeout) {\n        reject(Error('Timed out waiting for the WebDriver server at ' + url));\n      } else {\n        setTimeout(function() {\n          if (!done) {\n            checkServerStatus();\n          }\n        }, 50);\n      }\n    }\n  });\n};\n\n\n/**\n * Polls a URL with GET requests until it returns a 2xx response or the\n * timeout expires.\n * @param {string} url The URL to poll.\n * @param {number} timeout How long to wait, in milliseconds.\n * @param {Promise=} opt_cancelToken A promise used as a cancellation signal:\n *     if resolved before the a 2xx response is received, the wait will be\n *     terminated early with a {@link promise.CancellationError}.\n * @return {!Promise} A promise that will resolve when a 2xx is received from\n *     the given URL, or if the wait is cancelled.\n */\nexports.waitForUrl = function(url, timeout, opt_cancelToken) {\n  return new Promise((onResolve, onReject) => {\n    let client = new HttpClient(url);\n    let request = new HttpRequest('GET', '');\n    let start = Date.now();\n\n    let done = false;\n    let resolve = () => {\n      done = true;\n      onResolve();\n    };\n    let reject = (err) => {\n      done = true;\n      onReject(err);\n    };\n\n    if (opt_cancelToken) {\n      opt_cancelToken.then(_ => reject(new promise.CancellationError));\n    }\n\n    testUrl();\n\n    function testUrl() {\n      client.send(request).then(onResponse, onError);\n    }\n\n    function onError() {\n      if (Date.now() - start > timeout) {\n        reject(Error('Timed out waiting for the URL to return 2xx: ' + url));\n      } else {\n        setTimeout(function() {\n          if (!done) {\n            testUrl();\n          }\n        }, 50);\n      }\n    }\n\n    function onResponse(response) {\n      if (done) {\n        return;\n      }\n      if (response.status > 199 && response.status < 300) {\n        resolve();\n        return;\n      }\n      onError();\n    }\n  });\n};\n"],"mappings":"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"},"metadata":{},"sourceType":"script"}