{"ast":null,"code":"var util = require(\"util\");\n\nvar BaseClient = require(\"./client\");\n\nvar extend = require(\"./extend\");\n\nfunction ApiBaseClient(settings) {\n  this.server = {\n    host: \"api.browserstack.com\"\n  };\n  BaseClient.call(this, settings);\n}\n\nutil.inherits(ApiBaseClient, BaseClient); // public API\n\nextend(ApiBaseClient.prototype, {\n  getBrowsers: function (fn) {\n    this._getBrowsers(function (error, browsers) {\n      if (!error) {\n        this.updateLatest(browsers);\n      }\n\n      fn(error, browsers);\n    }.bind(this));\n  },\n  createWorker: function (options, fn) {\n    if (options[this.versionField] === \"latest\") {\n      return this.getLatest(options, function (error, version) {\n        if (error) {\n          return fn(error);\n        }\n\n        options = extend({}, options);\n        options[this.versionField] = version;\n        this.createWorker(options, fn);\n      }.bind(this));\n    }\n\n    var data = JSON.stringify(options);\n    this.request({\n      path: this.path(\"/worker\"),\n      method: \"POST\"\n    }, data, fn);\n  },\n  getWorker: function (id, fn) {\n    this.request({\n      path: this.path(\"/worker/\" + id)\n    }, fn);\n  },\n  changeUrl: function (id, options, fn) {\n    var data = JSON.stringify(options);\n    this.request({\n      path: this.path(\"/worker/\" + id + \"/url.json\"),\n      method: \"PUT\"\n    }, data, fn);\n  },\n  terminateWorker: function (id, fn) {\n    this.request({\n      path: this.path(\"/worker/\" + id),\n      method: \"DELETE\"\n    }, fn);\n  },\n  getWorkers: function (fn) {\n    this.request({\n      path: this.path(\"/workers\")\n    }, fn);\n  },\n  getLatest: function (browser, fn) {\n    var latest = this.latest;\n\n    if (typeof browser === \"function\") {\n      fn = browser;\n      browser = null;\n    } // there may be a lot of createWorker() calls with \"latest\" version\n    // so minimize the number of calls to getBrowsers()\n\n\n    if (this.latestPending) {\n      return setTimeout(function () {\n        this.getLatest(browser, fn);\n      }.bind(this), 50);\n    } // only cache browsers for one day\n\n\n    if (!latest || this.latestUpdate < new Date() - 864e5) {\n      this.latestPending = true;\n      return this.getBrowsers(function (error) {\n        this.latestPending = false;\n\n        if (error) {\n          return fn(error);\n        }\n\n        this.getLatest(browser, fn);\n      }.bind(this));\n    }\n\n    process.nextTick(function () {\n      fn(null, browser ? latest[this.getBrowserId(browser)] : extend({}, latest));\n    }.bind(this));\n  },\n  takeScreenshot: function (id, fn) {\n    this.request({\n      path: this.path(\"/worker/\" + id + \"/screenshot.json\")\n    }, fn);\n  }\n}); // internal API\n\nextend(ApiBaseClient.prototype, {\n  latest: null,\n  latestUpdate: 0,\n  latestPending: false,\n  path: function (path) {\n    return \"/\" + this.version + path;\n  },\n  updateLatest: function (browsers) {\n    var latest = this.latest = {};\n    var getBrowserId = this.getBrowserId.bind(this);\n    var versionField = this.versionField;\n    this.latestUpdate = new Date();\n    browsers.forEach(function (browser) {\n      var version = browser[versionField];\n      var browserId = getBrowserId(browser); // ignore devices that don't have versions\n\n      if (!version) {\n        return;\n      } // ignore pre-release versions\n\n\n      if (/\\s/.test(version)) {\n        return;\n      }\n\n      if (parseFloat(version) > (parseFloat(latest[browserId]) || 0)) {\n        latest[browserId] = version;\n      }\n    });\n  },\n  getBrowserId: function (browser) {\n    return this._getBrowserId(browser).toLowerCase();\n  }\n}); // Versions\n\nApiBaseClient.versions = {};\nApiBaseClient.latestVersion = 0;\n\nApiBaseClient.createVersion = function (version, prototype) {\n  function ApiClient(settings) {\n    ApiBaseClient.call(this, settings);\n  }\n\n  util.inherits(ApiClient, ApiBaseClient);\n  ApiClient.prototype.version = version;\n  extend(ApiClient.prototype, prototype);\n  ApiBaseClient.versions[version] = ApiClient;\n  ApiBaseClient.latestVersion = Math.max(ApiBaseClient.latestVersion, version);\n};\n\nApiBaseClient.createVersion(1, {\n  useHttp: true,\n  versionField: \"version\",\n  _getBrowsers: function (fn) {\n    this.request({\n      path: this.path(\"/browsers\")\n    }, fn);\n  },\n  _getBrowserId: function (browser) {\n    return browser.browser;\n  }\n});\nApiBaseClient.createVersion(2, {\n  useHttp: true,\n  versionField: \"version\",\n  _getBrowsers: function (fn) {\n    this.request({\n      path: this.path(\"/browsers\")\n    }, function (error, osBrowsers) {\n      if (error) {\n        return fn(error);\n      }\n\n      fn(null, [].concat.apply([], Object.keys(osBrowsers).map(function (os) {\n        return osBrowsers[os].map(function (browser) {\n          browser.os = os;\n          return browser;\n        });\n      })));\n    });\n  },\n  _getBrowserId: function (browser) {\n    return browser.os + \":\" + (browser.browser || browser.device);\n  }\n});\nApiBaseClient.createVersion(3, {\n  useHttp: true,\n  versionField: \"browser_version\",\n  _getBrowsers: function (fn) {\n    this.request({\n      path: this.path(\"/browsers?flat=true\")\n    }, fn);\n  },\n  _getBrowserId: function (browser) {\n    var id = browser.os + \":\" + browser.os_version + \":\" + browser.browser;\n\n    if (browser.device) {\n      id += \":\" + browser.device;\n    }\n\n    return id;\n  },\n  getApiStatus: function (fn) {\n    this.request({\n      path: this.path(\"/status\")\n    }, fn);\n  }\n});\nApiBaseClient.createVersion(4, {\n  versionField: \"browser_version\",\n  _getBrowsers: function (fn) {\n    this.request({\n      path: this.path(\"/browsers?flat=true\")\n    }, fn);\n  },\n  _getBrowserId: function (browser) {\n    var id = browser.os + \":\" + browser.os_version + \":\" + browser.browser;\n\n    if (browser.device) {\n      id += \":\" + browser.device;\n    }\n\n    return id;\n  },\n  getApiStatus: function (fn) {\n    this.request({\n      path: this.path(\"/status\")\n    }, fn);\n  }\n});\nmodule.exports = {\n  createClient: function (settings) {\n    var ApiClient = ApiBaseClient.versions[settings.version || ApiBaseClient.latestVersion];\n\n    if (!ApiClient) {\n      throw new Error(\"Invalid version\");\n    }\n\n    return new ApiClient(settings);\n  }\n};","map":{"version":3,"names":["util","require","BaseClient","extend","ApiBaseClient","settings","server","host","call","inherits","prototype","getBrowsers","fn","_getBrowsers","error","browsers","updateLatest","bind","createWorker","options","versionField","getLatest","version","data","JSON","stringify","request","path","method","getWorker","id","changeUrl","terminateWorker","getWorkers","browser","latest","latestPending","setTimeout","latestUpdate","Date","process","nextTick","getBrowserId","takeScreenshot","forEach","browserId","test","parseFloat","_getBrowserId","toLowerCase","versions","latestVersion","createVersion","ApiClient","Math","max","useHttp","osBrowsers","concat","apply","Object","keys","map","os","device","os_version","getApiStatus","module","exports","createClient","Error"],"sources":["/Users/hthere215/Desktop/Study/Classes/INF4MTX 133/Project/Project 4/a4-sleeptracker-hthere21/sleeptracker/node_modules/browserstack/lib/api.js"],"sourcesContent":["var util = require(\"util\");\nvar BaseClient = require(\"./client\");\nvar extend = require(\"./extend\");\n\nfunction ApiBaseClient(settings) {\n\tthis.server = {\n\t\thost: \"api.browserstack.com\"\n\t};\n\tBaseClient.call(this, settings);\n}\n\nutil.inherits(ApiBaseClient, BaseClient);\n\n// public API\nextend(ApiBaseClient.prototype, {\n\tgetBrowsers: function(fn) {\n\t\tthis._getBrowsers(function(error, browsers) {\n\t\t\tif (!error) {\n\t\t\t\tthis.updateLatest(browsers);\n\t\t\t}\n\n\t\t\tfn(error, browsers);\n\t\t}.bind(this));\n\t},\n\n\tcreateWorker: function(options, fn) {\n\t\tif (options[this.versionField] === \"latest\") {\n\t\t\treturn this.getLatest(options, function(error, version) {\n\t\t\t\tif (error) {\n\t\t\t\t\treturn fn(error);\n\t\t\t\t}\n\n\t\t\t\toptions = extend({}, options);\n\t\t\t\toptions[this.versionField] = version;\n\t\t\t\tthis.createWorker(options, fn);\n\t\t\t}.bind(this));\n\t\t}\n\n\t\tvar data = JSON.stringify(options);\n\t\tthis.request({\n\t\t\tpath: this.path(\"/worker\"),\n\t\t\tmethod: \"POST\"\n\t\t}, data, fn);\n\t},\n\n\tgetWorker: function(id, fn) {\n\t\tthis.request({\n\t\t\tpath: this.path(\"/worker/\" + id)\n\t\t}, fn);\n\t},\n\n\tchangeUrl: function(id, options, fn) {\n\t\tvar data = JSON.stringify(options);\n\t\tthis.request({\n\t\t\tpath: this.path(\"/worker/\" + id + \"/url.json\"),\n\t\t\tmethod: \"PUT\"\n\t\t}, data, fn);\n\t},\n\n\tterminateWorker: function(id, fn) {\n\t\tthis.request({\n\t\t\tpath: this.path(\"/worker/\" + id),\n\t\t\tmethod: \"DELETE\"\n\t\t}, fn);\n\t},\n\n\tgetWorkers: function(fn) {\n\t\tthis.request({\n\t\t\tpath: this.path(\"/workers\")\n\t\t}, fn);\n\t},\n\n\tgetLatest: function(browser, fn) {\n\t\tvar latest = this.latest;\n\n\t\tif (typeof browser === \"function\") {\n\t\t\tfn = browser;\n\t\t\tbrowser = null;\n\t\t}\n\n\t\t// there may be a lot of createWorker() calls with \"latest\" version\n\t\t// so minimize the number of calls to getBrowsers()\n\t\tif (this.latestPending) {\n\t\t\treturn setTimeout(function() {\n\t\t\t\tthis.getLatest(browser, fn);\n\t\t\t}.bind(this), 50);\n\t\t}\n\n\t\t// only cache browsers for one day\n\t\tif (!latest || this.latestUpdate < (new Date() - 864e5)) {\n\t\t\tthis.latestPending = true;\n\t\t\treturn this.getBrowsers(function(error) {\n\t\t\t\tthis.latestPending = false;\n\n\t\t\t\tif (error) {\n\t\t\t\t\treturn fn(error);\n\t\t\t\t}\n\n\t\t\t\tthis.getLatest(browser, fn);\n\t\t\t}.bind(this));\n\t\t}\n\n\t\tprocess.nextTick(function() {\n\t\t\tfn(null, browser ? latest[this.getBrowserId(browser)] : extend({}, latest));\n\t\t}.bind(this));\n\t},\n\n\ttakeScreenshot: function(id, fn) {\n\t\tthis.request({\n\t\t\tpath: this.path(\"/worker/\" + id + \"/screenshot.json\")\n\t\t}, fn);\n\t}\n});\n\n// internal API\nextend(ApiBaseClient.prototype, {\n\tlatest: null,\n\tlatestUpdate: 0,\n\tlatestPending: false,\n\n\tpath: function(path) {\n\t\treturn \"/\" + this.version + path;\n\t},\n\n\tupdateLatest: function(browsers) {\n\t\tvar latest = this.latest = {};\n\t\tvar getBrowserId = this.getBrowserId.bind(this);\n\t\tvar versionField = this.versionField;\n\n\t\tthis.latestUpdate = new Date();\n\t\tbrowsers.forEach(function(browser) {\n\t\t\tvar version = browser[versionField];\n\t\t\tvar browserId = getBrowserId(browser);\n\n\t\t\t// ignore devices that don't have versions\n\t\t\tif (!version) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\t// ignore pre-release versions\n\t\t\tif (/\\s/.test(version)) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tif (parseFloat(version) > (parseFloat(latest[browserId]) || 0)) {\n\t\t\t\tlatest[browserId] = version;\n\t\t\t}\n\t\t});\n\t},\n\n\tgetBrowserId: function(browser) {\n\t\treturn this._getBrowserId(browser).toLowerCase();\n\t}\n});\n\n// Versions\n\nApiBaseClient.versions = {};\nApiBaseClient.latestVersion = 0;\nApiBaseClient.createVersion = function(version, prototype) {\n\tfunction ApiClient(settings) {\n\t\tApiBaseClient.call(this, settings);\n\t}\n\n\tutil.inherits(ApiClient, ApiBaseClient);\n\n\tApiClient.prototype.version = version;\n\textend(ApiClient.prototype, prototype);\n\n\tApiBaseClient.versions[version] = ApiClient;\n\tApiBaseClient.latestVersion = Math.max(ApiBaseClient.latestVersion, version);\n};\n\nApiBaseClient.createVersion(1, {\n\tuseHttp: true,\n\n\tversionField: \"version\",\n\n\t_getBrowsers: function(fn) {\n\t\tthis.request({\n\t\t\tpath: this.path(\"/browsers\")\n\t\t}, fn);\n\t},\n\n\t_getBrowserId: function(browser) {\n\t\treturn browser.browser;\n\t}\n});\n\nApiBaseClient.createVersion(2, {\n\tuseHttp: true,\n\n\tversionField: \"version\",\n\n\t_getBrowsers: function(fn) {\n\t\tthis.request({\n\t\t\tpath: this.path(\"/browsers\")\n\t\t}, function(error, osBrowsers) {\n\t\t\tif (error) {\n\t\t\t\treturn fn(error);\n\t\t\t}\n\n\t\t\tfn(null, [].concat.apply([],\n\t\t\t\tObject.keys(osBrowsers).map(function(os) {\n\t\t\t\t\treturn osBrowsers[os].map(function(browser) {\n\t\t\t\t\t\tbrowser.os = os;\n\t\t\t\t\t\treturn browser;\n\t\t\t\t\t});\n\t\t\t\t})\n\t\t\t));\n\t\t});\n\t},\n\n\t_getBrowserId: function(browser) {\n\t\treturn browser.os + \":\" + (browser.browser || browser.device);\n\t}\n});\n\nApiBaseClient.createVersion(3, {\n\tuseHttp: true,\n\n\tversionField: \"browser_version\",\n\n\t_getBrowsers: function(fn) {\n\t\tthis.request({\n\t\t\tpath: this.path(\"/browsers?flat=true\")\n\t\t}, fn);\n\t},\n\n\t_getBrowserId: function(browser) {\n\t\tvar id = browser.os + \":\" + browser.os_version + \":\" + browser.browser;\n\t\tif (browser.device) {\n\t\t\tid += \":\" + browser.device;\n\t\t}\n\n\t\treturn id;\n\t},\n\n\tgetApiStatus: function(fn) {\n\t\tthis.request({\n\t\t\tpath: this.path(\"/status\")\n\t\t}, fn);\n\t}\n});\n\nApiBaseClient.createVersion(4, {\n\tversionField: \"browser_version\",\n\n\t_getBrowsers: function(fn) {\n\t\tthis.request({\n\t\t\tpath: this.path(\"/browsers?flat=true\")\n\t\t}, fn);\n\t},\n\n\t_getBrowserId: function(browser) {\n\t\tvar id = browser.os + \":\" + browser.os_version + \":\" + browser.browser;\n\t\tif (browser.device) {\n\t\t\tid += \":\" + browser.device;\n\t\t}\n\n\t\treturn id;\n\t},\n\n\tgetApiStatus: function(fn) {\n\t\tthis.request({\n\t\t\tpath: this.path(\"/status\")\n\t\t}, fn);\n\t}\n});\n\nmodule.exports = {\n\tcreateClient: function(settings) {\n\t\tvar ApiClient = ApiBaseClient.versions[settings.version || ApiBaseClient.latestVersion];\n\t\tif (!ApiClient) {\n\t\t\tthrow new Error(\"Invalid version\");\n\t\t}\n\n\t\treturn new ApiClient(settings);\n\t}\n};\n"],"mappings":"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"},"metadata":{},"sourceType":"script"}